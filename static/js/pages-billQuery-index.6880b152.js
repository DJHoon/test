(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-billQuery-index"],{1376:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.my-table table[data-v-0f85da4a]{min-width:100%!important}.uni-picker-container[data-v-0f85da4a]{z-index:11111}.bill-query[data-v-0f85da4a]{margin:0 %?20?%}.sealcontent[data-v-0f85da4a]{font-size:%?34?%;margin-bottom:%?20?%}.yet[data-v-0f85da4a]{padding:%?14?% %?10?%;display:flex;justify-content:space-around}.num[data-v-0f85da4a]{margin-bottom:%?18?%;display:flex;justify-content:space-around}.border[data-v-0f85da4a]{padding:0!important;border-bottom:%?2?% solid #cad1d2}.date[data-v-0f85da4a]{white-space:nowrap;display:flex;overflow-x:scroll}.date .active[data-v-0f85da4a]{color:#fff!important;background:#00c7c5!important}.date .content[data-v-0f85da4a]{color:#00c7c5;font-size:%?28?%;background:#fff;height:%?50?%;width:%?212?%;text-align:center;line-height:%?50?%;border-radius:%?4?%;margin-right:%?12?%;border:%?2?% solid #00c7c5}.footerbut[data-v-0f85da4a]{height:%?100?%;display:flex}.essential[data-v-0f85da4a]{font-size:%?28?%}.essential .content[data-v-0f85da4a]{margin:%?20?% 0;display:flex;justify-content:center;align-items:center}.essential .content .left[data-v-0f85da4a]{width:30%;text-align:center}.essential .content .right[data-v-0f85da4a]{flex:1;text-align:center}.sealinformation[data-v-0f85da4a]{border-radius:%?6?%;height:%?60?%;line-height:%?60?%;display:flex;justify-content:space-between}.sealinformation uni-text[data-v-0f85da4a]{text-align:center}.list[data-v-0f85da4a]{font-size:%?28?%;padding:%?10?% %?20?%}.list[data-v-0f85da4a]:nth-child(even){background:#f9fafb}.sealinfor[data-v-0f85da4a]{margin:%?26?% 0;font-size:%?26?%}.Determined[data-v-0f85da4a]{color:#00c7c5;border:%?2?% solid #00c7c5;border-radius:%?4?%;margin-top:%?40?%;width:%?180?%;height:%?80?%;background-color:#fff}.Determined[data-v-0f85da4a]  .u-button__text{font-size:%?30?%!important}.Determinedleft[data-v-0f85da4a]{background:#00c7c5;border-radius:%?4?%;margin-top:%?40?%;width:%?290?%;height:%?80?%;font-size:%?30?%}.Determinedleft[data-v-0f85da4a]  .u-button__text{font-size:%?30?%!important}.header[data-v-0f85da4a]{height:%?140?%;font-size:%?34?%;display:flex;background:#00c7c5;color:#fff;margin-bottom:%?20?%}.header .content[data-v-0f85da4a]{width:50%;display:flex;flex-direction:column;align-items:center}.header .content .num[data-v-0f85da4a]{font-size:%?30?%}',""]),t.exports=e},3273:function(t,e,n){"use strict";n("7a82");var a=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("96cf");var i=a(n("1da1")),s={data:function(){return{activeIndex:0,confirmNum:0,confirmPriceSum:0,recon:[],shopId:""}},onLoad:function(t){t.shopId&&(this.shopId=t.shopId,this.findReconInfo(t.shopId))},methods:{findReconInfo:function(t){var e=this;this.$api.findReconInfo({shopId:t}).then((function(t){if(0!=t.code)return e.$toast(t.msg);e.recon=t.data.recon,e.confirmNum=t.data.confirmNum,e.confirmPriceSum=t.data.confirmPriceSum}))},changeDate:function(t,e){this.activeIndex=e},getStateText:function(t){return this.$store.state.reconStateList[t]},toTaskRecon:function(t){var e=this,n=this.recon[this.activeIndex].reconId;this.$api.toTaskRecon({reconId:n,isTask:t}).then(function(){var n=(0,i.default)(regeneratorRuntime.mark((function n(a){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(0==a.code){n.next=2;break}return n.abrupt("return",e.$toast(a.msg));case 2:1==t?(e.findReconInfo(e.shopId),e.activeIndex=0,e.$toast("操作成功")):a.data&&(e.copy(a.data),e.findReconInfo(e.shopId),e.activeIndex=0);case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()),console.log(this.recon[this.activeIndex])},copy:function(t){this.$copyText(t).then((function(t){uni.showToast({title:"复制成功,请前往外部浏览器下载",icon:"none"})}))},downloadFile:function(t,e){var n=window.URL.createObjectURL(new Blob([t],{type:"application/pdf"})),a=document.createElement("a");a.style.display="none",a.href=n,a.setAttribute("download",e),document.body.appendChild(a),a.click()}}};e.default=s},"331d":function(t,e,n){"use strict";var a=n("ef27"),i=n.n(a);i.a},4882:function(t,e,n){"use strict";n.r(e);var a=n("3273"),i=n.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(s);e["default"]=i.a},"9c96":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return a}));var a={uButton:n("d9ad").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"bill-query"},[n("v-uni-view",{staticClass:"box"},[n("v-uni-view",{staticClass:"header"},[n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"num"},[t._v(t._s(t.confirmNum)+"笔")]),n("v-uni-view",{staticClass:"name"},[t._v("待确认账单")])],1),n("v-uni-view",{staticClass:"content"},[n("v-uni-view",{staticClass:"num"},[t._v(t._s(t.confirmPriceSum)+"元")]),n("v-uni-view",{staticClass:"name"},[t._v("待确认金额")])],1)],1),n("v-uni-view",{staticClass:"date"},t._l(t.recon,(function(e,a){return n("v-uni-view",{key:a,class:{content:!0,active:t.activeIndex==a},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.changeDate(e,a)}}},[t._v(t._s(e.reconTime))])})),1),t.recon[t.activeIndex]?n("v-uni-view",{staticClass:"essential"},[n("v-uni-view",{staticClass:"content"},[n("v-uni-text",{staticClass:"left"},[t._v("对账单编号")]),n("v-uni-text",{staticClass:"right"},[t._v(t._s(t.recon[t.activeIndex].reconNum))])],1),n("v-uni-view",{staticClass:"content"},[n("v-uni-text",{staticClass:"left"},[t._v("对账单周期")]),n("v-uni-text",{staticClass:"right"},[t._v(t._s(t.recon[t.activeIndex].reconTime))])],1),n("v-uni-view",{staticClass:"content"},[n("v-uni-text",{staticClass:"left"},[t._v("刻章店名")]),n("v-uni-text",{staticClass:"right"},[t._v(t._s(t.recon[t.activeIndex].shopName))])],1),n("v-uni-view",{staticClass:"content"},[n("v-uni-text",{staticClass:"left"},[t._v("账单总额")]),n("v-uni-text",{staticClass:"right"},[t._v(t._s(t.recon[t.activeIndex].stampSum))])],1),n("v-uni-view",{staticClass:"content"},[n("v-uni-text",{staticClass:"left"},[t._v("账单状态")]),n("v-uni-text",{staticClass:"right"},[t._v(t._s(t.getStateText(t.recon[t.activeIndex].reconState)))])],1),t.recon[t.activeIndex].reconTaskTime?n("v-uni-view",{staticClass:"content"},[n("v-uni-text",{staticClass:"left"},[t._v("确认时间")]),n("v-uni-text",{staticClass:"right"},[t._v(t._s(t.recon[t.activeIndex].reconTaskTime))])],1):t._e()],1):t._e()],1),n("v-uni-view",{staticClass:"sealinfor"},[n("v-uni-view",{staticClass:"sealcontent"},[t._v("印章信息")]),t.recon[t.activeIndex]&&t.recon[t.activeIndex].stampInfoList?t._l(t.recon[t.activeIndex].stampInfoList,(function(e){return n("v-uni-view",{key:e.stampId,staticClass:"list"},[n("v-uni-view",{staticStyle:{display:"flex","justify-content":"space-between"}},[n("v-uni-text",[t._v(t._s(e.stampName))]),n("v-uni-text",[t._v(t._s(e.createTime))])],1),n("v-uni-view",{staticClass:"sealinformation"},[n("v-uni-text",[t._v(t._s(e.stampMaterial||"普通合成材料"))]),n("v-uni-text",[t._v(t._s(e.stampNum)+"枚")]),n("v-uni-text",[t._v(t._s(e.stampPrice)+"元")])],1)],1)})):[n("v-uni-view",{staticStyle:{"text-align":"center"}},[t._v("暂无数据")])]],2),t.shopId&&t.recon.length>0?n("v-uni-view",{staticClass:"footerbut"},[t.recon[t.activeIndex]&&1==t.recon[t.activeIndex].reconState?n("u-button",{staticClass:"Determined",attrs:{type:"primary",text:"复制链接"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toTaskRecon(2)}}}):t._e(),t.recon[t.activeIndex]&&0==t.recon[t.activeIndex].reconState?n("u-button",{staticClass:"Determined",attrs:{type:"primary",text:"确认"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toTaskRecon(1)}}}):t._e(),t.recon[t.activeIndex]&&0==t.recon[t.activeIndex].reconState?n("u-button",{staticClass:"Determinedleft",attrs:{type:"primary",text:"确认并复制链接",color:"#00C7C5"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toTaskRecon(3)}}}):t._e()],1):t._e()],1)},s=[]},d534:function(t,e,n){"use strict";n.r(e);var a=n("9c96"),i=n("4882");for(var s in i)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(s);n("331d");var c,o=n("f0c5"),r=Object(o["a"])(i["default"],a["b"],a["c"],!1,null,"0f85da4a",null,!1,a["a"],c);e["default"]=r.exports},ef27:function(t,e,n){var a=n("1376");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("1cabd428",a,!0,{sourceMap:!1,shadowMode:!1})}}]);